<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="report_purchasequotation_document_inherit" inherit_id="purchase_stock.report_purchasequotation_document">
        <xpath expr="//t[@t-if='o.dest_address_id']" position="replace">

        </xpath>
        <xpath expr="//t[@t-else='']" position="replace">
            <t t-set="information_block">
                <t t-if="o.address">
                    <strong>Shipping address:</strong>
                    <div t-if="o.address">
                        <span t-field="o.address"/>
                    </div>
                </t>
                <t t-else=" ">
                    <strong>Shipping address:</strong>
                    <div t-if="o.picking_type_id and o.picking_type_id.warehouse_id">
                        <span t-field="o.picking_type_id.warehouse_id.name"/>
                        <div t-field="o.picking_type_id.warehouse_id.partner_id" t-options='{"widget": "contact", "fields": ["address", "phone"], "no_marker": True, "phone_icons": True}'/>
                    </div>
                </t>
            </t>
        </xpath>
    </template>

    <template id="report_purchase_order_document_inherit" inherit_id="purchase_stock.report_purchaseorder_document">
        <xpath expr="//t[@t-if='o.dest_address_id']" position="replace">

        </xpath>
        <xpath expr="//t[@t-else='']" position="replace">
            <t t-set="information_block">
                <t t-if="o.address">
                    <strong>Shipping address:</strong>
                    <div t-if="o.address">
                        <span t-field="o.address"/>
                    </div>
                </t>
                <t t-else=" ">
                    <strong>Shipping address :</strong>
                    <div t-if="o.picking_type_id and o.picking_type_id.warehouse_id">
                        <span t-field="o.picking_type_id.warehouse_id.name"/>
                        <div t-field="o.picking_type_id.warehouse_id.partner_id" t-options='{"widget": "contact", "fields": ["address", "phone"], "no_marker": True, "phone_icons": True}'/>
                    </div>
                </t>
            </t>
        </xpath>
    </template>

    <template id="report_sale_order_document_inherit" inherit_id="sale.report_saleorder_document">
        <xpath expr="//t[@t-if='doc.partner_shipping_id == doc.partner_invoice_id
                             and doc.partner_invoice_id != doc.partner_id
                             or doc.partner_shipping_id != doc.partner_invoice_id']" position="replace">

        <t t-if="doc.address">
                <t t-if="doc.partner_shipping_id == doc.partner_invoice_id
                                 and doc.partner_invoice_id != doc.partner_id
                                 or doc.partner_shipping_id != doc.partner_invoice_id">
                <t t-set="information_block">
                    <strong t-if="doc.partner_shipping_id == doc.partner_invoice_id">Invoicing and Shipping Address:</strong>
                    <strong t-if="doc.partner_shipping_id != doc.partner_invoice_id">Invoicing Address:</strong>
                    <div t-field="doc.partner_invoice_id"
                    t-options='{"widget": "contact", "fields": ["address", "name", "phone"], "no_marker": True, "phone_icons": True}'/>
                    <t t-if="doc.partner_shipping_id != doc.partner_invoice_id">
                        <strong>Shipping Address:</strong>
                        <div t-field="doc.address"/>
                    </t>
                </t>
            </t>
        </t>
        <t t-else="">
            <t t-if="doc.partner_shipping_id == doc.partner_invoice_id
                                 and doc.partner_invoice_id != doc.partner_id
                                 or doc.partner_shipping_id != doc.partner_invoice_id">
                <t t-set="information_block">
                    <strong t-if="doc.partner_shipping_id == doc.partner_invoice_id">Invoicing and Shipping Address:</strong>
                    <strong t-if="doc.partner_shipping_id != doc.partner_invoice_id">Invoicing Address:</strong>
                    <div t-field="doc.partner_invoice_id"
                    t-options='{"widget": "contact", "fields": ["address", "name", "phone"], "no_marker": True, "phone_icons": True}'/>
                    <t t-if="doc.partner_shipping_id != doc.partner_invoice_id">
                        <strong>Shipping Address:</strong>
                        <div t-field="doc.partner_shipping_id"
                        t-options='{"widget": "contact", "fields": ["address", "name", "phone"], "no_marker": True, "phone_icons": True}'/>
                    </t>
                </t>
            </t>
        </t>
        </xpath>
    </template>

</odoo>
